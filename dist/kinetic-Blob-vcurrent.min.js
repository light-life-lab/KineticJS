(function(){Kinetic.Blob=function(e){this._initBlob(e)},Kinetic.Blob.prototype={_initBlob:function(e){Kinetic.Spline.call(this,e),this.shapeType="Blob"},drawFunc:function(e){var t=this.getPoints(),n=t.length,r=e.getContext(),i=this.getTension();r.beginPath(),r.moveTo(t[0].x,t[0].y);if(i!==0&&n>2){var s=this.allPoints,o=s.length,u=0;while(u<o-1)r.bezierCurveTo(s[u].x,s[u++].y,s[u].x,s[u++].y,s[u].x,s[u++].y)}else for(var u=1;u<n;u++){var a=t[u];r.lineTo(a.x,a.y)}r.closePath(),e.fillStroke(this)},_setAllPoints:function(){var e=this.getPoints(),t=e.length,n=this.getTension(),r=Kinetic.Spline._getControlPoints(e[t-1],e[0],e[1],n),i=Kinetic.Spline._getControlPoints(e[t-2],e[t-1],e[0],n);Kinetic.Spline.prototype._setAllPoints.call(this),this.allPoints.unshift(r[1]),this.allPoints.push(i[0]),this.allPoints.push(e[t-1]),this.allPoints.push(i[1]),this.allPoints.push(r[0]),this.allPoints.push(e[0])}},Kinetic.Global.extend(Kinetic.Blob,Kinetic.Spline)})();
